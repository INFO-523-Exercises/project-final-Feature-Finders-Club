---
title: "Sentiment Analysis on Tech-based Stocks"
subtitle: "Proposal"
format:
  html:
    code-tools: true
    code-overflow: wrap
    code-line-numbers: true
    embed-resources: true
editor: visual
code-annotations: hover
categories: 
  - Data Mining and Discovery
execute:
  warning: false
---

```{r load_pkgs, message=FALSE, output=FALSE}
# GETTING THE LIBRARIES
if (!require(pacman))
  install.packages(pacman)

pacman::p_load(tidyverse,
               formattable,
               janitor,
               dlookr,
               here)
```
## Introduction

Our aim is to develop a robust stock prediction model by analyzing the correlation between news sentiment and market movements, while also exploring the interconnected dynamics of stock prices within specific sectors.

## Abstract

Our primary objective is to develop an advanced predictive model using the `yahoofinance` package, meticulously tailored for stock analysis, with Apple Inc. (AAPL) serving as a prominent example. This model is intricately designed to unravel the nuanced correlation between news sentiment and the dynamic landscape of stock prices. Leveraging sophisticated methodologies in natural language processing and machine learning, our goal is to discern identifiable patterns and trends within news data, providing invaluable insights into their profound impact on the pricing dynamics of stocks, illustrated by the case of `AAPL`. This predictive framework is meticulously crafted not only to forecast individual movements in example stocks with precision but also to contribute to a thorough understanding of the profound influence exerted by news sentiment on market behaviors, specifically within the technology sector.

In addition, our focus extends to the exploration of the intricate network of interdependencies among stocks within the technology sector. A pivotal aspect of our objectives involves scrutinizing how fluctuations in the stock prices of one entity can act as a catalyst, triggering substantial market responses in others within the sector. Obtaining in-depth insights into how shifts in the stock prices of one company, notably Apple Inc., can propagate influence throughout the sector is crucial for informing strategic decision-making and anticipating broader market dynamics within the industry. This exploration not only augments our predictive accuracy but also furnishes strategic decision-makers with invaluable insights for informed decision-making.

## Dataset

```{r}
#| label: load-dataset
#| message: false
```


```{=html}
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importing module to download data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> yfinance</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Using Ticker module in yfinace to get data of desired stock</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>apple <span class="op">=</span> yfinance.Ticker(<span class="st">"AAPL"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># usign history function to get stock data of yesterday with 1 hour interval from maket opening to closing</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> apple.history(period<span class="op">=</span><span class="st">'1d'</span>,interval<span class="op">=</span><span class="st">'1h'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

```

The data is retrived from $Yahoo^\textregistered!\ Finance$ in real-time. This data contain's the information about a particular stock and how it performed during certain period. This information includes openning,closing and other related features of the stock. The following are the attributes(freatures) of the data retrived:

| Column Name | Data Type | Description |
|---------|-----|------|
|Datetime|String| This column represents the date and time for each data point, in the format "YYYY-MM-DD HH:MM:SS-TZ." It provides the timestamp at which the stock price information was recorded. The timezone (TZ) indicates the time zone for the recorded data.|
|Open|Integer|This column contains the opening price of the stock at the specific timestamp. The opening price is the price at which the stock started trading at the beginning of the given time interval (e.g., each hour).|
|High|Integer|The "High" column contains the highest price reached by the stock during the time interval. It represents the peak value of the stock's price within that hour.|
|Low|Integer|In this column, you find the lowest price reached by the stock during the same time interval. It represents the minimum value of the stock's price within that hour.|
|Close|Integer| The "Close" column provides the closing price of the stock at the end of the specified time interval. It is the last price recorded before the end of that hour.|
|Volume|Integer|This column represents the trading volume of the stock during the given time interval. Trading volume is the total number of shares or contracts traded during that hour.|
|Dividends|Integer|The "Dividends" column typically contains information about any dividend payments made during the specified time interval. In the dataset you provided, it appears that no dividends were recorded (values are zero).|
|Stock Splits|Integer|The "Stock Splits" column would typically record any information related to stock splits that occurred during the specified time interval. In the dataset, it also appears that no stock splits were recorded (values are zero).|

: Data Dictionary {tbl-colwidths="[20,15,65]"}


```{=html}
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Open</th>
<th data-quarto-table-cell-role="th">High</th>
<th data-quarto-table-cell-role="th">Low</th>
<th data-quarto-table-cell-role="th">Close</th>
<th data-quarto-table-cell-role="th">Volume</th>
<th data-quarto-table-cell-role="th">Dividends</th>
<th data-quarto-table-cell-role="th">Stock Splits</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Datetime</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2023-11-07 09:30:00-05:00</td>
<td>179.179993</td>
<td>180.820007</td>
<td>179.009995</td>
<td>180.710007</td>
<td>16268674</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2023-11-07 10:30:00-05:00</td>
<td>180.695007</td>
<td>181.595001</td>
<td>180.529999</td>
<td>181.455002</td>
<td>8190077</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2023-11-07 11:30:00-05:00</td>
<td>181.455002</td>
<td>181.639999</td>
<td>180.520004</td>
<td>181.175003</td>
<td>7493420</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2023-11-07 12:30:00-05:00</td>
<td>181.175003</td>
<td>182.160004</td>
<td>180.934998</td>
<td>182.014999</td>
<td>6208182</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2023-11-07 13:30:00-05:00</td>
<td>182.018494</td>
<td>182.440002</td>
<td>181.929993</td>
<td>182.340897</td>
<td>5219872</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2023-11-07 14:30:00-05:00</td>
<td>182.350006</td>
<td>182.429993</td>
<td>181.899994</td>
<td>182.198303</td>
<td>5513486</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2023-11-07 15:30:00-05:00</td>
<td>182.195007</td>
<td>182.339996</td>
<td>181.550003</td>
<td>181.820007</td>
<td>8142789</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

```

$\color{Green} Why\ did\ we\ chose\ this\ data\ set?$

This dataset is suitable for stock price prediction due to its time series format with open, high, low, and close prices, as well as volume, dividends, and stock splits. The high-frequency data, recorded at hourly intervals, is valuable for short-term trading. These features provide essential data for analysis and modeling in the context of stock price prediction.


Variables Involved:

- News Headlines: Collecting a dataset of news headlines relevant to the stock market. These headlines will serve as a variable to assess the impact on stock prices.

- Stock Prices: Gathering historical stock price data for a selected set of stocks within a particular sector. These will be the stocks to study for correlations.

Sector Information: Identifying and categorizing stocks into their respective sectors for sector specific analysis.

Variables to be Created:

- Correlation Coefficients: Calculating the correlation coefficients to quantify the relationships between stock price movements and news headlines, and between stocks within the same sector.

- Market Sentiment Index: Creating a sentiment index based on the tone of the news headlines (positive, negative, or neutral sentiment) to gauge how news sentiment affects stock prices.

## Questions

Question 1: Does the world of news headlines influence the intricate dance of stock prices? Can we unveil the secrets?

Question 2: To what extent do changes in the stock prices influence the price movements of other stocks in a particular sector?


## Analysis plan


### Approach for Question 1
The question frames the investigation into the influence of new headlines on the stock prices in captivating and
thought-provoking manner. It not only acknowledges the impact of news but also suggests the possibility of
uncovering hidden patterns or insights, which can be appealing to those interested in financial markets and data
analysis.

To address the question in a general sense, we would employ a combination of data analysis and predictive modeling.
By collecting historical data on stock prices and news headlines, we can examine the historical relationship between
news sentiment and market movements. This analysis might involve quantifying sentiment in news headlines,
identifying patterns, and exploring correlations. Furthermore, predictive models can be developed to forecast
potential future stock price changes based on these insights. The goal is to gain a better understanding of how
news impacts stock prices and, if possible, use this knowledge to make informed predictions about future market
behavior.


### Approach for Question 2
We chose this question because it is crucial in the world of finance. It affects how we manage risks, make investments in 
different things, understand industries, create smart trading plans, and make decisions as investors. When stocks in one industry 
move in the same way, it can mean more risk and less benefit from spreading out our investments. On the other hand, when they don't 
move the same way, it can be a chance to lower risk and improve our investments. By figuring out these connections, we can make 
smarter choices about where to invest our money, reduce risks, get a better grip on how industries work, and plan our trading and 
investments more effectively.

To address this question, we will pinpoint key elements, such as stock prices and financial market headlines, for examination. We will compute 
correlation coefficients to gauge the magnitude and direction of the link between stock prices. To better understand this relationship, 
we will visualize it using tools like scatter plots, heatmaps, or correlation matrices. We will then interpret the findings of our 
analysis, determining whether stocks exhibit positive or negative correlations and to what degree these correlations extend.


Plan Summary:

- We will collect the stock price data and news headlines data.

- Categorize the stocks into sectors.

- To answer question 1, we will calculate correlation coefficients between stock prices and news sentiment .

- To answer question 2, we will calculate correlation coefficients between stock prices of the selected sector.

- And finally, create a sentiment index to gauge news sentiment's influence on stock prices.

- We may use external data like economic indicators or sector-specific data like industry specific news or performance metrics.

|               Week                | Weekly Tasks                                                                          | Persons in Charge |  Backup  |
|:----------------:|-------------------|:----------------:|:----------------:|
|       until November 8^th^        | Explore and finalize the dataset and the problem statements                           |     Everyone      | Everyone |
|                \-                 | Complete the proposal and assign some high-level tasks                                |     Everyone      | Everyone |
|     November 9^th^ to 15^th^      | Getting to know about `yfinance` library                                              |        TBD        |   TBD    |
|                \-                 | Data cleaning and Data pre-processing                                                 |        TBD        |   TBD    |
|                \-                 | Question specific exploration and data categorization                                 |        TBD        |   TBD    |
|     November 16^th^ to 22^nd^     | Performing Sentiment analysis for Q1                                                  |        TBD        |   TBD    |
|                \-                 | Performing Sentiment analysis for Q2                                                  |        TBD        |   TBD    |
|                \-                 | Exploring on how to integrate our analysis with real-time prices.                     |        TBD        |   TBD    |
|     November 23^rd^ to 29^th^     | Generating remaining parts of the plots for Q1 and Q2                                 |        TBD        |   TBD    |
|                \-                 | Improving the generated sentiment analysis  model                                     |        TBD        |   TBD    |
|                \-                 | Start integrating quarto and our model                                                |        TBD        |   TBD    |
| November 30^th^ to December 6^th^ | Refining the code for code review with comments                                       |        TBD        |   TBD    |
|                \-                 | Making a few changes on the model to test it based on historical data                 |        TBD        |   TBD    |
|                \-                 | Continue with the integration of quarto and our models                                |        TBD        |   TBD    |
|     December 7^th^ to 13^th^      | Complete the quarto website with presentable data                                     |        TBD        |   TBD    |
|                \-                 | Review the model and debugging                                                        |        TBD        |   TBD    |
|                \-                 | Write-up and presentation for the project                                             |     Everyone      | Everyone |

### Repo Organization

The following are the folders involved in the Project repository.

-   **'data/':** Used for storing any necessary data files for the project, such as input files.

-   **'images/':** Used for storing image files used in the project.

-   **'\_extra/':** Used to brainstorm our analysis which won't impact our project workflow.

-   **'\_freeze/':** This folder is used to store the generated files during the build process. These files represent the frozen state of the website at a specific point in time.

-   **'.github/':** Folder for storing github templates and workflow.


::: callout-note
## Note:

These are the planned approaches, and we intend to explore and solve the problem statement which we came up with. Parts of our approach might change in the final implementation.
:::
